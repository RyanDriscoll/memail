{"version":3,"sources":["webpack:///webpack/bootstrap ea34e7c504554afe8d5e","webpack:///./popup.js"],"names":["getUserEmail","callback","chrome","identity","getProfileUserInfo","email","user","getTabAndEmail","getEmail","Promise","resolve","reject","getTab","config","active","currentWindow","tabs","query","tab","all","then","data","url","values","title","xhr","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","getCurrentTab","renderEmail","document","getElementById","value","renderSubject","renderBody","content","addEventListener","window","close"],"mappings":"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","file":"./public/popup.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ea34e7c504554afe8d5e","function getUserEmail(callback) {\n  chrome.identity.getProfileUserInfo(user => {\n    const email = user.email;\n    callback(email);\n  });\n}\n\nfunction getTabAndEmail() {\n  const getEmail = new Promise((resolve, reject) => {\n    chrome.identity.getProfileUserInfo(user => {\n      const email = user.email;\n      resolve(email);\n    });\n  });\n  const getTab = new Promise((resolve, reject) => {\n    const config = {\n      active: true,\n      currentWindow: true\n    };\n    chrome.tabs.query(config, tabs => {\n      const tab = tabs[0];\n      resolve(tab);\n    });\n  });\n  Promise.all([getEmail, getTab])\n  .then(values => {\n    const data = {};\n    data.url = values[1].url;\n    data.title = values[1].title;\n    data.email = values[0];\n\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', 'http://localhost:8080/send');\n    xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    xhr.send(JSON.stringify(data));\n  });\n}\n\nfunction getCurrentTab(callback) {\n  var config = {\n    active: true,\n    currentWindow: true\n  };\n  chrome.tabs.query(config, tabs => {\n    const tab = tabs[0];\n    callback(tab);\n  });\n}\n\nfunction renderEmail(email) {\n  document.getElementById('email').value = email;\n}\n\nfunction renderSubject(tab) {\n  document.getElementById('subject').value = tab.title;\n}\n\nfunction renderBody(tab) {\n  const content = `${tab.title}\n\n${tab.url}`;\n  document.getElementById('body').value = content;\n}\n\n    // var port = chrome.extension.connect({\n    //   name: 'Sample Communication'\n    // });\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  getTabAndEmail();\n  window.close();\n  // const data = {};\n  // getCurrentTab(tab => {\n  //   renderBody(tab);\n  //   renderSubject(tab);\n  //   data.url = tab.url;\n  //   data.title = tab.title;\n  // });\n  // getUserEmail(email => {\n  //   renderEmail(email);\n  //   data.email = email;\n  // });\n\n  // document.getElementById('submit').addEventListener('click', function () {\n    // const xhr = new XMLHttpRequest();\n    // xhr.open('POST', 'http://localhost:8080/send');\n    // xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    // xhr.send(JSON.stringify(data));\n    // axios.post('http://localhost:8080/send').catch(err => console.error(err));\n    // console.log('in click event');\n    // port.postMessage('send');\n    // port.onMessage.addListener(function (msg) {\n    //   console.log('message recieved' + msg);\n    // });\n  // });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./popup.js"],"sourceRoot":""}